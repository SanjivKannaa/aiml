create database AppLab;
use AppLab;

CREATE TABLE STUDENT (
  Rollno VARCHAR(20) PRIMARY KEY,
  Name VARCHAR(50) NOT NULL,
  Branch VARCHAR(20) NOT NULL,
  Year INT NOT NULL,
  CGPA DECIMAL(5, 2) NOT NULL,
  DOB DATE NOT NULL,
  EmailID VARCHAR(50) NOT NULL
);

CREATE TABLE COURSES (
  Cid VARCHAR(20) PRIMARY KEY,
  Cname VARCHAR(50) NOT NULL,
  FacultyName VARCHAR(50) NOT NULL
);

CREATE TABLE COURSE_TAKEN (
  Rollno VARCHAR(20),
  Cid VARCHAR(20),
  FOREIGN KEY (Rollno) REFERENCES STUDENT(Rollno),
  FOREIGN KEY (Cid) REFERENCES COURSES(Cid),
  PRIMARY KEY (Rollno, Cid)
);




CREATE TABLE PATIENT (
  Pid VARCHAR(20) PRIMARY KEY,
  Pname VARCHAR(50) NOT NULL,
  DOB DATE NOT NULL,
  ContactNo VARCHAR(20) NOT NULL,
  Address VARCHAR(100) NOT NULL
);

CREATE TABLE DIAGNOSIS (
  Did VARCHAR(20) PRIMARY KEY,
  Dname VARCHAR(50) NOT NULL,
  Medication VARCHAR(100),
  Department VARCHAR(50) NOT NULL
);

CREATE TABLE TREATMENT (
  Tid INT AUTO_INCREMENT PRIMARY KEY,  -- Auto-increment for unique ID
  Pid VARCHAR(20) NOT NULL,
  Type VARCHAR(50) NOT NULL,
  Did VARCHAR(20) NOT NULL,
  DoctorName VARCHAR(50) NOT NULL,
  FOREIGN KEY (Pid) REFERENCES PATIENT(Pid),
  FOREIGN KEY (Did) REFERENCES DIAGNOSIS(Did)
);